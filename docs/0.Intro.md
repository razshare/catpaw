# Get started

In order to get started you will need [php 8.0](https://www.php.net/downloads.php) or a more recent version.

All you need to do is create a new project using the starter template.

```bash
composer create-project catpaw/starter
```

Or you could also clone the template from https://github.com/tncrazvan/catpaw-starter

---

Every application must declare a ```main``` function in the global scope, that will be your entry point:

```php
<?php
// src/main.php
namespace {
    function main(){
        echo "hello world\n";
    }
}
```
<br/>

After you've created your new project, you can run it in development mode using
```bash
compsoer run dev
```
or in production using
```bash
compsoer run start
```

# Debugging with VSCode

In order to debug with vscode you will need to configure both vscode and xdebug (3.x).

### VSCode configuration

Make new  `./.vscode/launch.json` file in your project and add your configuration:
```json
{
    // Use IntelliSense to learn about possible attributes.
    // Hover to view descriptions of existing attributes.
    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387
    "version": "0.2.0",
    "configurations": [
        {
            "name": "Listen (paw)",
            "type": "php",
            "request": "launch",
            "port": 9003
        },
        {
            "name": "Launch (paw)",
            "type": "php",
            "request": "launch",
            "program": "${workspaceFolder}/vendor/catpaw/core/scripts/start.php",
            "cwd": "${workspaceFolder}",
            "args": [
                "${file}"
            ],
            "port": 0,
            "runtimeArgs": [
                "-dxdebug.start_with_request=yes"
            ],
            "env": {
                "XDEBUG_MODE": "debug,develop",
                "XDEBUG_CONFIG": "client_port=${port}"
            }
        }
    ]
}
```

The first configuration will passively listen for xdebug, while the second one will launch the currently opened script.

### XDebug 3.x configuration

In you `php.ini` file add:
```ini
[xdebug]
xdebug.mode=debug
xdebug.client_host=127.0.0.1
xdebug.client_port=9003
xdebug.start_with_request=yes
```

## Note

This project is aimed at linux distributions and has not been tested properly on Windows or Mac machines.
