# RaspberryPI

In order to interact with the RaspberryPI's GPIO pin interface you will need to install the `catpaw/raspberrypi` package.

```
composer require catpaw/raspberrypi
```

After installing the package you can start injecting dependencies through the `\CatPaw\RaspberryPI\Attribute\GPIO` attribute.<br/>
The attribute constructor take 2 arguments:

1. The pin number (`BCM GPIO`)<br/>
    These values can be found as public constants in the GPIO class.
    ```php
    public const HEADER7 = 4;
    public const HEADER11 = 17;
    public const HEADER12 = 18;
    public const HEADER13rv1 = 21;
    public const HEADER13 = 27;
    public const HEADER15 = 22;
    public const HEADER16 = 23;
    public const HEADER18 = 25;
    public const HEADER22 = 25;
    ```
    As you can see they're named following the pins' indexing as show in this schema:

    This way you can phisically count the pins' position if you don't have the schema around and don't remember it.
2. Read/write flag (`GPIO::READ` / `GPIO::WRITE`)

Here's an example of a blinking led on `HEADER12`

```php
<?php

namespace {
    use CatPaw\RaspberryPI\Attribute\GPIO;
    use function Amp\delay;

    function main(
        #[GPIO(GPIO::HEADER12,GPIO::WRITE)]
        $set12
    ){
        $led = false;
        while(true){
            yield delay(1000);
            $led = !$led;
            yield $set12($led);
        }
    }
}
```